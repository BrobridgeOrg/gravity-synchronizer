{
	"rules": [
		{
			"event": "userCreated",
			"collection": "users",
			"method": "update",
			"primaryKey": "id",
			"mapping": [
				{
					"source": "id",
					"target": "id"
				},
				{
					"source": "name",
					"target": "name"
				},
				{
					"source": "email",
					"target": "email"
				}
			]
		},
		{
			"event": "userDeleted",
			"collection": "users",
			"method": "delete",
			"primaryKey": "id",
			"mapping": [
				{
					"source": "id",
					"target": "id",
					"primary": true
				}
			]
		},
		{
			"event": "accountCreated",
			"collection": "accounts",
			"method": "insert",
			"primaryKey": "id",
			"handler": {
				"script": "return { id: source.id, name: source.name, type: source.type, phone: source.phone, attrs: source.attrs, createdAt: source.createdAt }"
			}
		},
		{
			"event": "accountUpdated",
			"collection": "accounts",
			"method": "update",
			"primaryKey": "id",
			"handler": {
				"script": "return { id: source.id, name: source.name, type: source.type, phone: source.phone, attrs: source.attrs }"
			}
		},
		{
			"event": "accountDeleted",
			"collection": "accounts",
			"method": "delete",
			"primaryKey": "id",
			"handler": {
				"script": "return { id: source.id }"
			}
		}
	]
}
